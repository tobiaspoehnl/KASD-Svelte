<div class="card">
    <div class="card-image">
        {{#each placemark.image}}
            <figure class="image is-256x256">
                <img src={{this}}>
            </figure>
        {{/each}}
    </div>
    {{#if OwnerOrAdmin}}
        <div class="card-content">
            <form action="/placemark/{{placemark._id}}/uploadimage" method="POST" enctype="multipart/form-data">
                <div id="file-select" class="file has-name is-fullwidth">
                    <label class="file-label"> <input class="file-input" name="imagefile" type="file" accept="image/png, image/jpeg">
                        <span class="file-cta">
                <span class="file-icon">
                  <i class="fas fa-upload"></i>
                </span>
                <span class="file-label">
                  Choose a fileâ€¦
                </span>
               </span>
                        <span class="file-name"></span>
                    </label>
                    <button type="submit" class="button is-info">Upload</button>
                </div>
            </form>
            <a class="button is-danger" href="/placemark/{{placemark._id}}/deleteimage">Delete
                <i class="fas fa-trash"></i>
            </a>
        </div>
    {{/if}}
</div>

<script>
    const fileInput = document.querySelector(".file-input");
    fileInput.onchange = () => {
        if (fileInput.files.length > 0) {
            const fileName = document.querySelector(".file-name");
            fileName.textContent = fileInput.files[0].name;
        }
    };
</script>
